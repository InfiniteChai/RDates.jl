<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Primitives · RDates.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>RDates.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li class="current"><a class="toctext" href>Primitives</a><ul class="internal"><li><a class="toctext" href="#Days-1">Days</a></li><li><a class="toctext" href="#Weeks-1">Weeks</a></li><li><a class="toctext" href="#Months-1">Months</a></li><li><a class="toctext" href="#Years-1">Years</a></li><li><a class="toctext" href="#First-And-Last-Day&#39;s-Of-The-Month-1">First And Last Day&#39;s Of The Month</a></li><li><a class="toctext" href="#Easter-1">Easter</a></li><li><a class="toctext" href="#Day-Month-1">Day Month</a></li><li><a class="toctext" href="#Day-Month-Year-1">Day Month Year</a></li><li><a class="toctext" href="#Weekdays-1">Weekdays</a></li><li><a class="toctext" href="#Nth-Weekday-1">Nth Weekday</a></li><li><a class="toctext" href="#Nth-Last-Weekday-1">Nth Last Weekday</a></li></ul></li><li><a class="toctext" href="../combinations/">Combinations</a></li><li><a class="toctext" href="../business_days/">Business Days</a></li><li><a class="toctext" href="../ranges/">Ranges</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Primitives</a></li></ul><a class="edit-page" href="https://github.com/InfiniteChai/RDates.jl/blob/master/docs/src/primitives.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Primitives</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Primitives-1" href="#Primitives-1">Primitives</a></h1><p>RDates is designed to allow complex date operations to be completed using basic primitive types. Each of these primitive types and operations are explained in more detail in subsequent sections.</p><p>First, a motivating example from our introduction of <em>when is the next Easter?</em></p><pre><code class="language-julia">julia&gt; using RDates, Dates
julia&gt; rd&quot;Next(0E,1E)&quot; + Date(2019,9,27)
2020-04-12</code></pre><p>We now go through each of the primitive types, from which we can combine together using compounding operations.</p><h2><a class="nav-anchor" id="Days-1" href="#Days-1">Days</a></h2><p>Provides us with the ability to add or subtract days from a date. This is equivalent to the <code>Dates.Day</code> struct.</p><pre><code class="language-julia">julia&gt; rd&quot;3d&quot; + Date(2019,1,1)
2019-01-04
julia&gt; RDates.Day(3) + Date(2019,1,1)
2019-01-04
julia&gt; rd&quot;-2d&quot; + Date(2019,1,1)
2018-12-30</code></pre><h2><a class="nav-anchor" id="Weeks-1" href="#Weeks-1">Weeks</a></h2><p>Provides us with the ability to add or subtract weeks from a date. This is equivalent to the <code>Dates.Week</code> struct.</p><pre><code class="language-julia">julia&gt; rd&quot;3w&quot; + Date(2019,1,1)
2019-01-22
julia&gt; RDates.Week(3) + Date(2019,1,1)
2019-01-22
julia&gt; rd&quot;-2w&quot; + Date(2019,1,1)
2018-12-18</code></pre><h2><a class="nav-anchor" id="Months-1" href="#Months-1">Months</a></h2><p>Adding months to a date is a surprisingly complex operation. For example</p><ul><li>What should happen if I add one month to the 31st January?</li><li>Should adding one month to the 30th April maintain the end of month?</li></ul><p>To allow us to have this level of flexibility, we need to introduce two new conventions</p><h4><a class="nav-anchor" id="Invalid-Day-Convention-1" href="#Invalid-Day-Convention-1">Invalid Day Convention</a></h4><p>We define conventions to determine what to do if adding (or subtracting) the months leads us to an invalid day.</p><ul><li><strong>Last Day Of Month</strong> or <strong>LDOM</strong> means that you should fall back to the last day of the current month.</li><li><strong>First Day Of Next Month</strong> or <strong>FDONM</strong> means that you should move forward to the first day of the next month.</li><li><strong>Nth Day Of Next Month</strong> or <strong>NDONM</strong> means that you should move forward into the next month the number of days past you have ended up past the last day of month. This is will only differ to <em>FDONM</em> if you fall in February.</li></ul><h4><a class="nav-anchor" id="Month-Increment-Convention-1" href="#Month-Increment-Convention-1">Month Increment Convention</a></h4><p>We also need to understand what to do when you add a month. Most of the time you&#39;ll be just looking to maintain the same day, but it can also sometimes be preferable to maintain the last day of the month.</p><ul><li><strong>Preserve Day Of Month</strong> or <strong>PDOM</strong> means that we&#39;ll always make sure we land on the same day (though invalid day conventions may kick in).</li><li><strong>Preserve Day Of Month And End Of Month</strong> or <strong>PDOMEOM</strong> means that we&#39;ll preserve the day of the month, unless the base date falls on the end of the month, then we&#39;ll keep to the end of the month going forward (noting that this will be applied prior to invalid day conventions).</li></ul><p>We can now combine these together to start working with month adjustments. These arguments are passed in square brackets, semi colon separated, after the <code>m</code> using their shortened naming conventions.</p><pre><code class="language-julia">julia&gt; rd&quot;1m[LDOM;PDOM]&quot; + Date(2019,1,31)
2019-02-28
julia&gt; rd&quot;1m[FDONM;PDOM]&quot; + Date(2019,1,31)
2019-03-01
julia&gt; rd&quot;1m[NDONM;PDOM]&quot; + Date(2019,1,31)
2019-03-03
julia&gt; rd&quot;1m[NDONM;PDOMEOM]&quot; + Date(2019,1,31)
2019-02-28</code></pre><p>We also provide default values for the conventions, with <em>Last Day Of Month</em> for invalid days and <em>Preserve Day Of Month</em> for our monthly increment.</p><pre><code class="language-julia">julia&gt; rd&quot;1m&quot; == rd&quot;1m[LDOM;PDOM]&quot;
true</code></pre><h2><a class="nav-anchor" id="Years-1" href="#Years-1">Years</a></h2><p>Adding years is generally simple, except when we have to deal with February and leap years. As such, we use the same conventions as for months.</p><pre><code class="language-julia">julia&gt; rd&quot;1y[LDOM;PDOM]&quot; + Date(2019,2,28)
2020-02-28
julia&gt; rd&quot;1y[LDOM;PDOMEOM]&quot; + Date(2019,2,28)
2020-02-29
julia&gt; rd&quot;1y[LDOM;PDOM]&quot; + Date(2020,2,29)
2021-02-28
julia&gt; rd&quot;1y[FDOM;PDOM]&quot; + Date(2020,2,29)
2021-03-01</code></pre><p>Similar to months we also provide default values for the conventions, with <em>Last Day Of Month</em> for invalid days and <em>Preserve Day Of Month</em> for our monthly increment.</p><pre><code class="language-julia">julia&gt; rd&quot;1y&quot; == rd&quot;1y[LDOM;PDOM]&quot;
true</code></pre><h2><a class="nav-anchor" id="First-And-Last-Day&#39;s-Of-The-Month-1" href="#First-And-Last-Day&#39;s-Of-The-Month-1">First And Last Day&#39;s Of The Month</a></h2><p>Some similar operators that let you get the first or the last day of month from the given date.</p><pre><code class="language-julia">julia&gt; rd&quot;FDOM&quot; + Date(2019,1,13)
2019-01-01
julia&gt; rd&quot;LDOM&quot; + Date(2019,1,13)
2019-01-31</code></pre><h2><a class="nav-anchor" id="Easter-1" href="#Easter-1">Easter</a></h2><p>A date that is well known from hunting eggs and pictures of bunnies, it&#39;s a rather tricky calculation to perform. We provide a simple method to allow you to get the Easter for the given year (or appropriately incremented or decremented from the given year)</p><p>To get Easter for the given year we can use <code>0E</code>, for next year&#39;s Easter it&#39;s <code>1E</code> and for the Easter two years ago it would be <code>-2E</code></p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p><code>0E</code> will get the Easter of the current year, so it could be before or after the date you&#39;ve provided.</p></div></div><pre><code class="language-julia">julia&gt; rd&quot;0E&quot; + Date(2019,1,1)
2019-04-21
julia&gt; rd&quot;0E&quot; + Date(2019,8,1)
2019-04-21
julia&gt; rd&quot;10E&quot; + Date(2019,8,1)
2029-04-01</code></pre><h2><a class="nav-anchor" id="Day-Month-1" href="#Day-Month-1">Day Month</a></h2><p>We can have the ability to apply a specific day and month pair to the given year. This is provided using the standard 3 letter acronym for months</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p><code>1MAR</code> will get the 1st of March of the current year, so it could be before or after the date you&#39;ve provided.</p></div></div><pre><code class="language-julia">julia&gt; rd&quot;1MAR&quot; + Date(2019,1,1)
2019-03-01
julia&gt; rd&quot;29OCT&quot; + Date(2020,12,1)
2020-10-29</code></pre><h2><a class="nav-anchor" id="Day-Month-Year-1" href="#Day-Month-Year-1">Day Month Year</a></h2><p>We can have the ability to move to a specific date, irrespective of the given date. This is provided using the standard 3 letter acronym for months and the full year.</p><pre><code class="language-julia">julia&gt; rd&quot;1MAR2020&quot; + Date(2019,1,1)
2020-03-01
julia&gt; rd&quot;29OCT1993&quot; + Date(2020,12,1)
1993-10-29</code></pre><h2><a class="nav-anchor" id="Weekdays-1" href="#Weekdays-1">Weekdays</a></h2><p>It&#39;s quite common to want to ask for what is the next Saturday or the last Tuesday. This provides a mechanism for querying based on that.</p><p>For the grammar, the weekdays are given by their 3 letter acronym.</p><p>The count associated tells us what we&#39;re looking for. <code>1MON</code> will ask for the next Monday, exclusive of today. You can make it inclusive by adding <code>!</code> to <code>1MON!</code>. All other counts will then be additional weeks (forward or back) from this point.</p><pre><code class="language-julia">julia&gt; rd&quot;1WED&quot; + Date(2019,9,24) # A Tuesday
2019-09-25
julia&gt; rd&quot;1WED&quot; + Date(2019,9,25)
2019-10-02
julia&gt; rd&quot;1WED!&quot; + Date(2019,9,25)
2019-09-25
julia&gt; rd&quot;0WED&quot; + Date(2019,9,26)
2019-10-02</code></pre><h2><a class="nav-anchor" id="Nth-Weekday-1" href="#Nth-Weekday-1">Nth Weekday</a></h2><p>There are cases when you need to get a weekday in a given month, such as the 3rd Wednesday for <a href="https://en.wikipedia.org/wiki/IMM_dates">IMM Dates</a>. This can be achieved with the Nth Weekday (using the 3 letter acronym for the weekdays)</p><pre><code class="language-julia">julia&gt; rd&quot;1st MON&quot; + Date(2019,9,24)
2019-09-02
julia&gt; rd&quot;3rd WED&quot; + Date(2019,12,1)
2019-12-18</code></pre><h2><a class="nav-anchor" id="Nth-Last-Weekday-1" href="#Nth-Last-Weekday-1">Nth Last Weekday</a></h2><p>Similarly you can work backwards if required</p><pre><code class="language-julia">julia&gt; rd&quot;Last MON&quot; + Date(2019,9,24)
2019-09-30
julia&gt; rd&quot;3rd Last WED&quot; + Date(2019,12,1)
2019-12-11</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="../combinations/"><span class="direction">Next</span><span class="title">Combinations</span></a></footer></article></body></html>
